<!DOCTYPE module SYSTEM "module.dtd">

<module name="trexton" dir="computer_vision">
  <doc>
    <description>treXton localization</description>
    <define name="TREXTON_CAMERA" value="bottom_camera"/>
  </doc>

  <!-- <depends>video_thread</depends> -->
  
  <header>
    <file name="trexton_regression.h"/>
  </header>

  
  <init fun="trexton_init()"/>
  <!-- <periodic fun="trexton_periodic()" freq="30" autorun="TRUE"/> -->
  <makefile target="nps">

    <!-- <include name="modules/computer_vision"/> -->

    <file name="trexton_regression.c"/>
    <file name="textons.c"/>
    <file name="opticflow_module.c"/>
    <file name="texton_helpers.c"/>
    <file name="image_conversions.c"/>

    <file name="image.c" dir="modules/computer_vision/lib/vision"/>
    <file name="jpeg.c" dir="modules/computer_vision/lib/encoding"/>
    <file name="rtp.c" dir="modules/computer_vision/lib/encoding"/>
    <file name="v4l2.c" dir="modules/computer_vision/lib/v4l"/>

    <file name="cv.c"/>
    <file name="readcsv.c"/>
    <file name="readpng.c"/>
    <file name="libcsv.c"/>
    <file name="rtp.c" dir="modules/computer_vision/lib/encoding"/>
    <define name="modules/computer_vision/lib/vision" type="include"/> 

    <define name="modules/particle_filter/" type="include"/> 
    <file name="particle_filter.c" dir="modules/particle_filter/"/>
    <file name="random_number_gen.c" dir="modules/particle_filter/"/>

    <define name="modules/computer_vision/opticflow" type="include"/> 
    <file name="size_divergence.c" dir="modules/computer_vision/opticflow"/>
    <file name="opticflow_calculator.c" dir="modules/computer_vision/opticflow"/>
    <file name="linear_flow_fit.c" dir="modules/computer_vision/opticflow"/>

    <define name="math" type="include"/> 
    <file name="pprz_matrix_decomp_float.c" dir="math"/>

    <file name="fast_rosten.c" dir="modules/computer_vision/lib/vision"/>

    <file name="lucas_kanade.c" dir="modules/computer_vision/lib/vision"/>

    <!-- <file name="edge_flow.c" dir="modules/computer_vision/lib/vision"/> -->

  </makefile>


  <makefile target="ap">

    <!-- <include name="modules/computer_vision"/> -->

    <file name="trexton_regression.c"/>
    <file name="textons.c"/>
    <file name="opticflow_module.c"/>
    <file name="texton_helpers.c"/>
    <file name="image_conversions.c"/>

    <file name="image.c" dir="modules/computer_vision/lib/vision"/>
    <file name="jpeg.c" dir="modules/computer_vision/lib/encoding"/>
    <file name="rtp.c" dir="modules/computer_vision/lib/encoding"/>
    <file name="v4l2.c" dir="modules/computer_vision/lib/v4l"/>

    <file name="cv.c"/>
    <file name="readcsv.c"/>
    <file name="libcsv.c"/>
    <file name="rtp.c" dir="modules/computer_vision/lib/encoding"/>
    <define name="modules/computer_vision/lib/vision" type="include"/> 

    <define name="modules/particle_filter/" type="include"/> 
    <file name="particle_filter.c" dir="modules/particle_filter/"/>
    <file name="random_number_gen.c" dir="modules/particle_filter/"/>

    <define name="modules/computer_vision/opticflow" type="include"/> 
    <file name="size_divergence.c" dir="modules/computer_vision/opticflow"/>
    <file name="opticflow_calculator.c" dir="modules/computer_vision/opticflow"/>
    <file name="linear_flow_fit.c" dir="modules/computer_vision/opticflow"/>

    <define name="math" type="include"/> 
    <file name="pprz_matrix_decomp_float.c" dir="math"/>

    <file name="fast_rosten.c" dir="modules/computer_vision/lib/vision"/>

    <file name="lucas_kanade.c" dir="modules/computer_vision/lib/vision"/>

    <!-- <file name="edge_flow.c" dir="modules/computer_vision/lib/vision"/> -->

  </makefile>


</module>

